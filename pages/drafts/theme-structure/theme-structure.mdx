---
title: Theme Structure
date: "2023-03-10"
category: Draft
description: What exactly is a theme?
slug: theme-structure
---

import BlogPostLayout from "../../../components/layouts/BlogPostLayout";
export default ({ children }) => (
  <BlogPostLayout meta={meta}>{children}</BlogPostLayout>
);

In the last post I talked about when and why it makes sense to use theming. But what exactly is a theme? What is it made up of? How does it work? And what does it take to implement theming in an application?

## Semantic Variables and Values
The key to theming is styling UI components with semantically named variables (e.g. `--color-text`) rather than literal values (e.g. `black`).

```css
.button-primary {
  /* color: black;  */
  color: var(--color-text); 
}
```

Then, for each theme, you define values for the semantic variables.
<table style={{marginBlock: "var(--space-6)"}}>
    <tr style={{height: "var(--space-7)"}}>
        <th style={{textAlign: "left"}}>Semantic Variable</th>
        <th style={{textAlign: "left"}}>Value (Theme A)</th>
        <th style={{textAlign: "left"}}>Value (Theme B)</th>
    </tr>
    <tr style={{height: "var(--space-7)"}}>
        <td>color-text</td>
        <td>#000000</td>
        <td>#FFFFFF</td>
    </tr>
</table>

Now when you switch themes, the semantic variables are assigned the values for that theme, and that causes the look and feel of the UI to change. All this happens without having to go through the code to manually change individual styles.

## Theme vs. Theming

So an individual theme is a set of semantic variables and their corresponding values. But ***theming*** requires more than that. 

The process of theming can be broken down into five main parts or steps:

- Defining what needs to change from one theme to the next
- Coming up with meaningful names for the properties that change
- A way of assigning values to those properties for each theme
- Styling UI components with the correct semantic variables
- A way of applying those values to the UI


## Process
Implementing theming can be broken down into five steps:

1. Identify visual properties that will change from one theme to the next. 
2. Define meaningful names for the property values defined in Step 1. I'll call these *semantic variables*.
3. Assign values to the semantic variables for each theme.
4. Style UI components with the semantic variables. 
5. Apply the theme to the UI.

<span style={{fontWeight: 600, marginTop: "var(--space-10)", marginBottom: "-32px"}}>Step 1</span>
## Identify Visual Properties
You could go through every UI element and identify all the properties that might change from one theme to the next, with the intention of giving each style a unique name.

```css
.button-primary {
  /* Property 1 */ background-color: #000; 
  /* 2 */ color: #fff; 
  /* 3 */ border-color: #000; 
  /* 4 */ border-radius: 4px;
  /* 5 */ box-shadow: 0 2px 4px rgba(0,0,0,0.2);

  &:hover {
    /* 6 */ background-color: #eee; 
  }
}
.button-secondary {
  /* 7 */ background-color: #eee; 
  /* 8 */ color: #fff; 
  ...
}
.heading-1 {
  /* 9 */ color: #000; 
  ...
}
```

But this approach isn't very practical or scalable because the number of properties would grow with the number UI elements in an application. As soon as you add a new element, you'd have to add all its properties to the theme.

You want the list of properties to be short, so you can name them and remember them. And so it's not too complicated and tedius to configure and work with a theme.

{/* Naive way would be to have a unique name for every property on every element. This would work but it would be really difficult to manage and remember. Too many variables, names way too long and specific.  */}

### Identify styles that won't change
Theming is about changing the visual look and feel of a UI. The layout, hiearchy, and behavior of individual components won't change from theme to theme. 

Therefore the only styles that can change are the purely visual ones that don't affect the layout or structure of the UI. 

Any style that affects the layout or structure of the UI should be excluded from the theme. And live with the component itself. 

### Generalize and factor out common visual changes
Rather than zooming into each component and thinking about the specific properties that might change, a better approach is to zoom out and think about styling more generally.

{/* A top-down approach where you consider changes going from from the general to the specific.  */}

Start with the most general question: ***what types of visual changes are possible in an interface?*** (The purely visual changes that won't affect the layout or structure of the UI.)

- **Font** or typography
- **Color**
- **Shadow** or elevation
- **Corner Radius**
- **Border** (style, thickness) 

Then, going one level deeper in specificity, think about ***where*** these changes can be applied. Again, it's useful to deconstruct and generalize. Rather than apply style changes to a button, a button is actually made up of text, a background, a border, and an icon. 

- Color can be applied to Text, Backgrounds, Borders, Icons/SVGs, and Shadows.
- Typography can be applied to text only.
- Shadows, Borders, and Corner Radius can be applied to interactive elements or containers.

Once you know what is changing and where that change is applied, you can think about ***why*** you're changing the style. 

- Role or meaning: 

How much
- Interactive feedback: 
- Hierarchy and contrast
- Size and scale



Is it associated with a role or meaning? 
- Color can be used to convey meaning (e.g. success, warning, error) or mood (e.g. dark mode, light mode, etc.) or brand (e.g. primary color, secondary color, etc.)

Finally, you can think about ***how much*** you're changing the style. What are the levels of emphasis or contrast possible? 
- Color can be used to create contrast to create hierarchy and draw attention.
- Typography can be used to create contrast to create hierarchy and draw attention.



What kind of visual changes are possible in an interface?
Where can they be applied?
Why are they applied? i.e. what purpose do they serve?
How Much? To what degree are they applied?




Finally you can get into why you're changing these properties. What is the purpose of changing them? What is the role they play in the ui?

One is creating contrast to create hierarchy and draw attention. The other might be to provide feedback on interactivity. The other might be to convey meaning. Meaning could be semantic (e.g. success, warning, error) or it could be to convey a mood or feeling (e.g. dark mode, light mode, etc. or it could be to convey a brand (e.g. primary color, secondary color, etc.

Then you can go one level deeper and think about where these properties are applied. For someo of them, it's obvious, like typography is applied to text. For things like color, though, you have to specific where it's applied.

The other thing to consider is the role of the property. What is it used for? What does it do? What does it mean?

Role = hierarchy (level of contrast), 

Then fur

For some of these, like color, you might need to specific where it's applied. 

Kind = Color, Font, Space, Shadow, Radius, Border 
One level deepr is where it's applied = Text, Background, Border, Icon. Again these are the most generalized parts of a ui. 

So you could have a `color-text` property, a `color-bg` property, a `color-border` property, and a `color-icon` property. 

For example, the `color` property is used on almost all elemnts to style the text color. So you can factor it out into a common type of property called `color-text`. 

Since the text color of a button is different from the text color of a heading, you'll need a way to distinguish between the two. The way to do that is to come up with a name for each property that has meaning. 

That's where role comes in.

```css
.button-primary {
  /* 1 - text */ color: #fff; 
}
.button-secondary {
  /* 1 - text */ color: #fff; 
  ...
}
.heading-1 {
  /* 1 - text */ color: #000; 
  ...
}
```

In addition to `text`, common types of properties include `background`, `border`, `shadow`, and `radius`.


A more practical approach is to think about the different parts of each element that you want to style.
Eg. text, borders, backgrounds, icons, etc.


## Define Semantic Variables

You'll might notice that the value of the text property isn't the same for every element. The text color of a button is different from the text color of a heading. So you'll need a way to distinguish between the two.

The way to do that is to come up with a name for each property that has meaning. 

Meaning comes from the `role` the property plays in the UI. 

Name = `type` + `role`

The core of theming is semantic variables or design tokens. All that means is instead of styling a property with a literal value (e.g. background-color: red) you'd come up with a name for that property that has meaning. (e.g. background-color: color-bg-brand)

Coming up with these names is tricky and I'll have an entire post on that. 


## Assign Values to Semantic Variables
`--color-bg-brand: #ff0000;`

Rather than use a literal value, you'd use a semantic name. (e.g. background-color: var(--color-bg-brand))

Data structure that maps semantic names to values.
Figma modes table
json file or js file with object

### Constants vs Variables
You can set raw values (hex codes) but usually you want to choose values from a predefined scale of values. (e.g. color-bg-brand: color-brand-500 that comes from a design system.()
Outside of the scope of theming but related to design systems is that ideally the values you're choosing come from a design system, so that you're not just making up values as you go along. A predefined scale of values that you can choose from, that are all designed to work together, and that were chosen because they serve a specific purpose, usually to do with how they create contrast (for hierarchy and accessibility), how they work together (for harmony and consistency), and the meaning they convey.

### Choosing Values
Can be done one at a time or programmatically based on a few key values. Eg. primary color, secondary color, etc.

### Automatically generating values

## Style UI Components with Semantic Variables
```css
/* Style UI components with the semantic variables */
.button-primary {
  background-color: var(--color-bg-brand); 
  color: var(--color-text-brand); 
  border-color: var(--color-border-brand); 
}
```

## Apply the Theme

CSS variables are scoped to the element they're defined on. So if you define a variable on the body element, it will be available to all the elements in the body. If you define a variable on a button, it will only be available to that button and its children.

Theme provider component
React context API
creating a theme file that exports an object containing the semantic names and their values. The theme file is then imported into the theme provider component.
The theme provider component will make the theme available to all the components in your application via React's context API.


---
### Example theme structure
<table style={{marginBlock: "var(--space-6)"}}>
    <tr>
        <th style={{textAlign: "left"}}>Property</th>
        <th style={{textAlign: "left"}}>Semantic Variable</th>
        <th style={{textAlign: "left"}}>Value (Theme A)</th>
        <th style={{textAlign: "left"}}>Value (Theme B)</th>
    </tr>
    <tr>
        <td>background-color</td>
        <td>color-bg-brand</td>
        <td>#FF0000</td>
        <td>#0000FF</td>
    </tr>
    <tr>
        <td>color</td>
        <td>color-text-brand</td>
        <td>#FFFFFF</td>
        <td>#000000</td>
    </tr>
    <tr>
        <td>border-color</td>
        <td>color-border-brand</td>
        <td>#000000</td>
        <td>#FFFFFF</td>
    </tr>
</table>

```css
/* Style UI components with the semantic variables */
.button-primary {
  background-color: var(--color-bg-brand); 
  color: var(--color-text-brand); 
  border-color: var(--color-border-brand); 
}

/* Assign Values to Semantic Variables for Each Theme */
.root {
  [data-theme="theme-a"] {
    --color-bg-brand: #FF0000;
    --color-text-brand: #FFFFFF;
    --color-border-brand: #000000;
  }
  [data-theme="theme-b"] {
    --color-bg-brand: #0000FF;
    --color-text-brand: #000000;
    --color-border-brand: #FFFFFF;
  }
}

/* Apply the theme to the UI */
<button 
  class="button-primary" 
  data-theme="theme-a">
  Click Me
</button>
```
---

<table>
  <tr style={{height: "var(--space-7)"}}>
    <th style={{textAlign: "left"}}>What</th>
    <td>What types of visual changes are possible?</td>
  </tr>
  <tr style={{height: "var(--space-7)"}}>
    <th style={{textAlign: "left"}}>Where</th>
    <td>Where can these changes be applied? </td>
  </tr>
  <tr style={{height: "var(--space-7)"}}>
    <th style={{textAlign: "left"}}>Why</th>
    <td>What are the different purposes or roles of style changes?</td>
  </tr>
  <tr style={{height: "var(--space-7)"}}>
    <th style={{textAlign: "left"}}>How Much</th>
    <td>What are the levels of emphasis or contrast possible?</td>
  </tr>
</table>